(window.webpackJsonptodolist=window.webpackJsonptodolist||[]).push([[0],[,,,,function(e,t,a){e.exports=a.p+"static/media/delete.667d82e4.svg"},,function(e,t,a){e.exports=a(12)},,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(3),l=a.n(o),r=(a(11),a(5)),s=a(1),i=c.a.createContext(),u=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),o=a[0],l=a[1],u=Object(n.useState)({todos:[]}),m=Object(s.a)(u,2),d=m[0],h=m[1],f=Object(n.useState)(0),E=Object(s.a)(f,2),p=E[0],v=E[1],b=Object(n.useState)(!1),k=Object(s.a)(b,2),g=k[0],N=k[1],x=function(e){h((function(t){return{todos:[].concat(Object(r.a)(t.todos),[e])}}))};return c.a.createElement(i.Provider,{value:{handleSetNewTodo:function(e,t){var a={id:d.todos.length+1,task:e,date:"",completed:!1};l(a),x(a)},handleAddToList:x,handleCompleteTask:function(e){for(var t=d.todos,a=0;a<t.length;a++)t[a].id===e&&(t[a].completed?(t[a].completed=!1,v(parseInt(p-1))):(t[a].completed=!0,v(parseInt(p+1))));h({todos:t})},handleDeleteTask:function(e){var t=d.todos.filter((function(t){return e!==t.id}));h({todos:t}),p&&v(p-1)},handleSetFinished:function(e){N(100===e)},todo:o,list:d,completedNum:p,finished:g}},e.children)},m=function(e){var t=Object(n.useState)(0),a=Object(s.a)(t,2),o=a[0],l=a[1],r=Object(n.useContext)(i),u=r.list,m=r.completedNum,d=r.handleSetFinished;Object(n.useEffect)((function(){if(m){var e=Math.round(m/u.todos.length*100);l(e)}else l(0);d(o)}),[o,l,u,m,d]);var h=e.sqSize,f=e.strokeWidth,E=h/f*2,p="0 0 ".concat(h," ").concat(h),v=E*Math.PI*2,b=v-v*o/100;return c.a.createElement("svg",{width:h,height:h,viewBox:p,className:"percentage-circle",style:0===u.todos.length?{opacity:0}:{opacity:1}},c.a.createElement("circle",{className:"circle-background",cx:h/2,cy:h/2,r:E,strokeWidth:"".concat(f,"px")}),c.a.createElement("circle",{className:"circle-progress",cx:h/2,cy:h/2,r:E,strokeWidth:"".concat(f,"px"),transform:"rotate(-90 ".concat(h/2," ").concat(h/2,")"),style:{strokeDasharray:v,strokeDashoffset:b}}),c.a.createElement("text",{className:"circle-text",x:"50%",y:"50%",dy:".3em",textAnchor:"middle"},o+"%"))},d=function(){var e=Object(n.useContext)(i).finished;return c.a.createElement("nav",null,c.a.createElement("div",{className:"nav-container"},c.a.createElement("div",{className:"logo-container"},c.a.createElement("span",{className:"".concat(e?"logo":"logo logo-hide")},"Nice work."),c.a.createElement("span",{className:"".concat(e?"logo logo-hide":"logo")},"Do.")),c.a.createElement(m,{sqSize:100,strokeWidth:7})))},h=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),o=a[0],l=a[1],r=Object(n.useContext)(i).handleSetNewTodo,u=function(e){e.preventDefault();var t=new Date;o&&""!==o&&" "!==o&&(r(o.toString().trim(),t),l(""))};return c.a.createElement("form",{className:"add-task",onSubmit:u,autoComplete:"off"},c.a.createElement("input",{id:"task",value:o,onChange:function(e){l(e.target.value)}}),c.a.createElement("label",{htmlFor:"task"},"Add a new task..."),c.a.createElement("button",{type:"button",className:"add-task-button",onClick:u},"+"))},f=function(e){var t=e.action,a=e.value;return c.a.createElement("form",{className:"completed-checkbox"},c.a.createElement("input",{id:"checkbox-".concat(a),name:"",value:a,type:"checkbox"}),c.a.createElement("label",{onClick:t,htmlFor:"checkbox-".concat(a)}))},E=a(4),p=a.n(E),v=function(e){var t=e.action;return c.a.createElement("button",{className:"delete-button",type:"button",onClick:t},c.a.createElement("img",{src:p.a,className:"delete-button-icon",alt:"Delete task"}))},b=function(e){var t=e.task,a=Object(n.useContext)(i),o=a.handleCompleteTask,l=a.handleDeleteTask;return c.a.createElement("li",null,c.a.createElement(f,{value:t.id,action:function(){return o(t.id)}}),c.a.createElement("span",{className:"task-text ".concat(t.completed?"completed-task":"")},t.task),c.a.createElement("span",{className:"task-date"},t.date),c.a.createElement(v,{action:function(){return l(t.id)}}))},k=function(){var e=Object(n.useContext)(i).list;return c.a.createElement("div",{className:"list"},c.a.createElement(h,null),c.a.createElement("ul",null,e.todos.map((function(e,t){return c.a.createElement(b,{key:t,task:e})}))))},g=function(){return c.a.createElement("div",{className:"content"},c.a.createElement(k,null))},N=function(){return c.a.createElement("footer",null,c.a.createElement("p",null,"Made by ",c.a.createElement("a",{href:"https://ethanling.com/"},"Ethan Ling")," in 2019."))},x=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(d,null),c.a.createElement(g,null),c.a.createElement(N,null))};var j=function(){return c.a.createElement(u,null,c.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[6,1,2]]]);
//# sourceMappingURL=main.f5c54833.chunk.js.map